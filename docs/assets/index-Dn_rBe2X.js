const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CEjOsCSu.js","assets/modules-CK1cesKX.js","css/modules-By904SWX.css","css/index-CgFF-6Wc.css","assets/index-DZld_uZ0.js","css/index-PXOkHdBy.css"])))=>i.map(i=>d[i]);
var $e=Object.defineProperty;var Ve=(o,e,t)=>e in o?$e(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var p=(o,e,t)=>Ve(o,typeof e!="symbol"?e+"":e,t);import{r as h,u as Ge,j as n,s as w,g as X,a as Ze,S as J,B as He,c as Ye,b as q,E as pe,N as me,d as I,H as P,P as j,e as Qe,f as Xe,F as Je,h as F,C as le,i as A,T as Ke,k as ce,l as et,m as W,n as tt,o as nt,M as ot,p as st,R as rt,_ as R,q as at,t as it,v as lt,w as ct,x as dt,y as ut,z as ht,A as gt,D as fe,G as pt,I as mt,J as K,K as ee,L as ft,O as xt,Q as yt,U as N,V as k,W as C,X as bt,Y as jt,Z as de,$ as M,a0 as wt,a1 as vt,a2 as Y,a3 as kt,a4 as xe,a5 as S,a6 as St,a7 as Ct,a8 as _t,a9 as Rt,aa as It,ab as Mt,ac as Tt,ad as te,ae as Et,af as zt,ag as At,ah as Ot,ai as Pt,aj as Nt,ak as Dt,al as ye,am as be,an as Lt,ao as Ft,ap as Bt,aq as Wt,ar as Ut,as as qt,at as $t,au as Vt,av as Gt,aw as Zt,ax as Ht,ay as Yt,az as Qt,aA as Xt,aB as Jt,aC as Kt,aD as H,aE as en,aF as tn,aG as nn,aH as on,aI as sn,aJ as ue,aK as rn,aL as an,aM as ln}from"./modules-CK1cesKX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();const je=12345679876543213e15,cn={size:je},dn=Object.freeze(Object.defineProperty({__proto__:null,default:cn,size:je},Symbol.toStringTag,{value:"Module"})),we="name",ve="description",un={name:we,description:ve},hn=Object.freeze(Object.defineProperty({__proto__:null,default:un,description:ve,name:we},Symbol.toStringTag,{value:"Module"})),ke="中文",Se="中文描述",gn={name:ke,description:Se},pn=Object.freeze(Object.defineProperty({__proto__:null,default:gn,description:Se,name:ke},Symbol.toStringTag,{value:"Module"})),Ce="中文",_e="中文描述",mn={name:Ce,description:_e},fn=Object.freeze(Object.defineProperty({__proto__:null,default:mn,description:_e,name:Ce},Symbol.toStringTag,{value:"Module"})),xn="/anyshare/images/react-CHdo91hT.svg";function yn(){const o=h.useRef(null),e=h.useRef(null);return Ge(()=>{if(console.log("我也会执行============"),!o.current)return;const t=o.current;t.width=1920,t.height=1080;const s=t.getContext("2d");t.getContext("2d"),t.width/2,t.height/2,console.log(e.current),e.current;function a(){s.clearRect(0,0,1920,1080),i=t.getContext("2d"),i.save(),i.fillStyle="yellow",i.strokeStyle="blue",i.fillRect(50,25,100,50),i.strokeRect(50,25,100,50),i.fill(),i.stroke(),i.save(),i.fillStyle="red",i.strokeStyle="green",i.fillRect(180,25,100,50),i.strokeRect(180,25,100,50),i.fill(),i.stroke(),i.restore();const r=i.strokeStyle;console.log(r),i.fillRect(50,100,100,50),i.strokeRect(180,100,100,50),i.beginPath(),i.rect(50,400,100,200),i.stroke(),i.font="40px microsoft yahei",i.fillText("测试4278758",50,450),i.strokeStyle="red",i.strokeText("测试4278758",50,450);var i=t.getContext("2d");i.save();var l=new Path2D;const d=new Path2D("M48.8820344,6.68631316 C45.4106986,3.87135976 41.298287,1.81606109 36.7978491,0.773466538 M30,0 C27.8875111,0 25.8260193,0.218345084 23.8368617,0.633698404 C17.0417632,2.05257373 11.0907689,5.77044119 6.83444861,10.936731");l.bezierCurveTo(225,225,300,300,300,333),l.roundRect(0,0,200,200,30),l.rect(70,70,50,50),l.closePath(),i.strokeStyle="#000",i.fillStyle="rgba(255,0,0,0.25)",i.translate(500,500),i.stroke(d),i.restore()}w.read(()=>a())}),n.jsxs("div",{children:[n.jsx("canvas",{ref:o,style:{background:"#ccc"},id:"canvas",children:"不支持"}),n.jsx("img",{ref:e,src:xn,alt:""})]})}function bn(o){const[e]=X(o),[t]=Ze(o);return console.log("props",o),n.jsxs(n.Fragment,{children:[!o.selected&&n.jsx(J,{...o}),o.selected&&n.jsx(He,{...o,path:t}),n.jsx("circle",{r:"5",fill:"#ff0073",children:n.jsx("animateMotion",{dur:"4s",repeatCount:"indefinite",path:e})})]})}const T=Ye({scriptUrl:"//at.alicdn.com/t/c/font_4685565_mws1bqbynca.js"});function jn(o){const{sourceX:e,sourceY:t,targetX:s,targetY:a,sourcePosition:r,targetPosition:i,id:l}=o,[d,c,u,g]=X({sourceX:e,sourceY:t,sourcePosition:r,targetX:s,targetY:a,targetPosition:i}),{setEdges:v}=q();return n.jsxs(n.Fragment,{children:[n.jsx(J,{...o,style:{...o.style,animation:"flash-animation 1.5s infinite"}}),n.jsx(pe,{children:n.jsx("div",{className:"nodrag nopan",style:{color:"red",position:"absolute",pointerEvents:"all",cursor:"default",transform:`translate(-50%, -50%) translate(${c}px, ${u}px)`},children:n.jsx(T,{type:"icon-bianpinghuatubiaosheji-",style:{fontSize:20,animation:"flash-animation 1.5s infinite"},onClick:()=>v(m=>m.filter(y=>y.id!==l))})})})]})}function wn({data:o}){return n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{padding:10,display:"flex"},children:[n.jsxs("div",{style:{marginRight:4},children:[o.level,"."]}),n.jsx("div",{children:o.label})]}),o.arrowStyle&&n.jsx("div",{className:"arrow",style:o.arrowStyle,children:"⤹"})]})}const vn=h.memo(wn);function kn({data:o}){return n.jsxs(n.Fragment,{children:[n.jsxs(me,{isVisible:o.forceToolbarVisible||void 0,position:o.toolbarPosition,children:[n.jsx(I,{type:"button",children:"cut"}),n.jsx(I,{type:"button",children:"copy"}),n.jsx(I,{type:"button",children:"paste"})]}),n.jsx("div",{className:"react-flow__node-default",children:"1212151541514"})]})}function E(o){return n.jsx(P,{style:{width:8,height:8,background:"white",border:"2px solid black"},id:"green",...o})}function Sn(o){return n.jsxs("div",{children:[n.jsx("div",{style:{width:200,background:"green"},children:o==null?void 0:o.data.curreny}),n.jsx(E,{type:"target",position:j.Left}),n.jsx(E,{type:"source",position:j.Bottom})]})}function Cn(o){return n.jsxs("div",{className:"animate__animated animate__wobble",style:{},children:[n.jsx("div",{style:{border:"2px solid red",padding:20},children:"一起"}),n.jsx(E,{type:"source",position:j.Right})]})}function Re({data:o}){return n.jsxs(n.Fragment,{children:[n.jsx(Qe,{minWidth:50,minHeight:50}),n.jsx(P,{type:"target",position:j.Left}),n.jsx("div",{style:{padding:10},children:o.label}),n.jsxs("div",{style:{display:"flex",position:"absolute",bottom:0,width:"100%",justifyContent:"space-evenly",left:0},children:[n.jsx(P,{style:{position:"relative",left:0,transform:"none"},id:"a",type:"source",position:j.Bottom}),n.jsx(P,{style:{position:"relative",left:0,transform:"none"},id:"b",type:"source",position:j.Bottom})]})]})}h.memo(Re);const he=["width","height"],_n=({id:o})=>{const{setNodes:e}=q(),t=Xe(a=>{const r=a.nodeLookup.get(o);return!r||!a.edges.some(i=>i.target===o)?null:{width:r.width,height:r.height}});console.log("dimensions",t);const s=a=>r=>{e(i=>i.map(l=>l.id==="2-3"?{...l,style:{...l.style,[a]:parseInt(r.target.value)}}:l))};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"wrapper gradient",children:n.jsxs("div",{className:"inner",children:[he.map(a=>n.jsxs(h.Fragment,{children:[n.jsxs("label",{children:["node ",a]}),n.jsx("input",{type:"number",onChange:s(a),className:"nodrag",disabled:!t})]},a)),!he&&"no node connected"]})}),n.jsx(P,{type:"target",position:j.Top})]})},Rn="/anyshare/images/Docker-BJpqNUd5.svg",In=[{label:"计算机学院",value:"1"},{label:"软件学院",value:"2"},{label:"物联网学院",value:"3"}];function Mn(o){const{isConnectable:e,height:t,data:s,positionAbsoluteX:a,positionAbsoluteY:r}=o,{zoomIn:i,zoomOut:l,zoomTo:d}=q();return n.jsxs("div",{className:"flow-form animate__animated animate__swing",children:[n.jsxs("h5",{children:["公司表格上传",n.jsx("img",{style:{width:40},src:Rn,alt:""})]}),n.jsx("div",{className:"main",children:n.jsxs(Je,{labelAlign:"top",layout:"vertical",preventSubmitDefault:!0,resetType:"initial",showErrorMessage:!0,onValuesChange:(c,u)=>{console.log(c,u)},children:[n.jsx(F,{initialData:["1"],label:"选择对应的文件格式",name:"fileType",children:n.jsxs(le,{children:[n.jsx(A,{value:"1",children:".xlcx"}),n.jsx(A,{value:"2",children:".xxlx"}),n.jsx(A,{value:"3",children:".csv"})]})}),n.jsx(F,{initialData:["1"],label:"数据来源",name:"dataSource",children:n.jsxs(le,{children:[n.jsx(A,{value:"1",children:"数据导入"}),n.jsx(A,{value:"2",children:"表格自建"})]})}),n.jsx(F,{label:"回话信息",name:"replymessage",children:n.jsx(Ke,{placeholder:"请输入内容",className:"textarea",autosize:{minRows:4,maxRows:10}})}),n.jsx(F,{label:"学院",name:"college",initialData:"",children:n.jsx(ce,{clearable:!0,children:In.map((c,u)=>n.jsx(ce.Option,{value:c.value,label:c.label,children:c.label},u))})})]})}),n.jsx("div",{style:{display:"flex",fontSize:20,left:0,top:0,position:"absolute",transform:`translate(-25px,${t/2}px)`,zIndex:9999,cursor:"pointer"},onClick:c=>{c.stopPropagation(),c.preventDefault(),console.log("点击了")},children:n.jsx(T,{type:"icon-jiahao"})}),n.jsx("div",{style:{display:"flex",fontSize:20,right:0,top:0,position:"absolute",transform:`translate(25px,${t/2}px)`,zIndex:9999,cursor:"pointer"},onClick:c=>{c.stopPropagation(),c.preventDefault(),console.log("点击了")},children:n.jsx(T,{type:"icon-jiahao"})}),n.jsx(me,{isVisible:s.forceToolbarVisible||void 0,position:s.toolbarPosition||j.Top,children:n.jsxs(et,{children:[n.jsx(W,{type:"button",onClick:()=>i({duration:800}),children:"放大"}),n.jsx(W,{type:"button",onClick:()=>l({duration:800}),children:"缩小"}),n.jsx(W,{type:"button",onClick:()=>d(1,{duration:800}),children:"指定"})]})}),n.jsx(E,{type:"target",id:"red",position:j.Top,onConnect:c=>console.log("handle onConnect",c),isConnectable:e}),n.jsx(E,{type:"source",position:j.Bottom})]})}function Tn(o){var e;return n.jsxs("div",{children:[n.jsx(I,{disabled:!0,type:"button",style:{width:300,cursor:"auto"},children:(e=o.data)==null?void 0:e.label}),n.jsx(E,{type:"target",position:j.Top})]})}function En(o){const{sourceX:e,sourceY:t,targetX:s,targetY:a,sourcePosition:r,targetPosition:i,id:l}=o;return X({sourceX:e,sourceY:t,sourcePosition:r,targetX:s,targetY:a,targetPosition:i}),n.jsxs(n.Fragment,{children:[n.jsx(J,{...o}),n.jsx(pe,{children:n.jsx("svg",{style:{position:"absolute",top:0,left:0},children:n.jsx("defs",{children:n.jsx("marker",{id:"logo",viewBox:"0 0 40 40",markerHeight:15,markerWidth:15,refX:8,strokeOpacity:.5,refY:20,children:n.jsx("path",{d:"M2.273 9.53a2.273 2.273 0 1 0 0-4.546 2.273 2.273 0 0 0 0 4.547Zm9.467-4.984a2.273 2.273 0 1 0 0-4.546 2.273 2.273 0 0 0 0 4.546ZM7.4 13.108a5.535 5.535 0 0 1-3.775-2.88 3.273 3.273 0 0 1-1.944.24 7.4 7.4 0 0 0 5.328 4.465c.53.113 1.072.169 1.614.166a3.253 3.253 0 0 1-.666-1.9 5.639 5.639 0 0 1-.557-.091Zm3.828 2.285a2.273 2.273 0 1 0 0-4.546 2.273 2.273 0 0 0 0 4.546Zm3.163-3.108a7.436 7.436 0 0 0 .373-8.726 3.276 3.276 0 0 1-1.278 1.498 5.573 5.573 0 0 1-.183 5.535 3.26 3.26 0 0 1 1.088 1.693ZM2.098 3.998a3.28 3.28 0 0 1 1.897.486 5.544 5.544 0 0 1 4.464-2.388c.037-.67.277-1.313.69-1.843a7.472 7.472 0 0 0-7.051 3.745Z"})})})})})]})}const zn="/anyshare/images/pingmian-B6o5fMVU.png";function An(o){return n.jsxs("div",{style:{position:"relative"},children:[n.jsx("img",{src:zn,alt:""}),n.jsx(T,{size:20,style:{fontSize:"40px",color:"#0fad96",background:"#0fad96",margin:"50px 0 0 50px",position:"absolute",top:160,left:40},type:"icon-shexiangtou"}),n.jsx(T,{size:20,style:{fontSize:"40px",color:"#0fad96",background:"#0fad96",margin:"50px 0 0 50px",position:"absolute",top:340,left:310},type:"icon-shexiangtou"}),n.jsx(T,{size:20,style:{fontSize:"40px",color:"#0fad96",background:"#0fad96",margin:"50px 0 0 50px",position:"absolute",top:640,left:330},type:"icon-shexiangtou"})]})}const On={PaymentInit:Cn,PaymentCountry:Sn,annotation:vn,resizer:Re,textinput:_n,form:Mn,"node-with-toolbar":kn,ProcessEndedNode:Tn,pingmiantu:An},Pn={BezierEdgeComponent:jn,animatedSvg:bn,logo:En},Nn=[{id:"1",source:"1",target:"2",type:"animatedSvg",animated:!0,style:{stroke:"rgb(158, 118, 255)",strokeWidth:3}},{id:"100",source:"2",target:"3-2",type:"animatedSvg",animated:!0,style:{stroke:"rgb(158, 118, 255)",strokeWidth:3}},{id:"e-3333333",source:"1",target:"3-5",type:"animatedSvg",animated:!0,style:{stroke:"rgb(158, 118, 255)",strokeWidth:3}}],Dn=[{id:"1",position:{x:520,y:100},data:{amount:200,className:""},type:"PaymentInit",className:"flow_error"},{id:"2",position:{x:300,y:20},data:{curreny:"$"},style:{background:"green"},type:"PaymentCountry"},{id:"annotation-1",type:"annotation",draggable:!1,selectable:!1,data:{level:1,label:"Built-in node and edge types. Draggable, deletable and connectable!",arrowStyle:{right:0,bottom:0,transform:"translate(-30px,10px) rotate(0deg)"}},position:{x:-80,y:-30}},{id:"2-3",type:"resizer",data:{label:"resizable node"},position:{x:0,y:50},style:{width:80,height:80,background:"rgb(208, 192, 247)",color:"white"}},{id:"3-2",type:"textinput",position:{x:0,y:250},data:{},width:200,height:100},{id:"3-5",type:"form",position:{x:300,y:250},data:{},style:{width:500,minHeight:400,background:"#da5eaa",color:"white",borderRadius:3,padding:"0 10px 20px 10px"}},{id:"1000",position:{x:0,y:100},type:"ProcessEndedNode",data:{label:"END"}}],Ln=()=>{const[o,e,t]=tt(Dn),[s,a,r]=nt(Nn),i=h.useCallback(l=>{console.log("connection",l);const d={...l,animated:!0,id:`${s.length+1} + 1`,type:"BezierEdgeComponent",style:{stroke:"red",strokeWidth:2},markerEnd:{type:ot.ArrowClosed,width:15,height:15,color:"red"}};a(c=>st(d,c))},[s]);return n.jsx("div",{style:{width:"100%",height:"100vh"},children:n.jsxs(rt,{children:[n.jsx(Fn,{}),n.jsx(I,{type:"button",onClick:()=>{},children:"导出"}),n.jsx(I,{type:"button",onClick:()=>{const l=performance.now();R(()=>import("./html2canvas-CBrSDip1.js"),[]).then(d=>{const c=performance.now();console.log(`Execution time-------: ${c-l} milliseconds`),d.default(document.body).then(u=>{})})},children:"截图"}),n.jsxs(at,{nodes:o,edges:s,onNodesChange:t,onEdgesChange:r,onConnect:i,className:"react-flow-subflows-example",fitView:!0,connectionLineType:it.SmoothStep,connectionMode:lt.Strict,connectOnClick:!0,connectionLineStyle:{stroke:"#F6AD55",strokeWidth:3},nodeTypes:On,edgeTypes:Pn,proOptions:{hideAttribution:!0},snapToGrid:!0,onPaneClick:()=>{console.log("eventtttt")},onMouseDownCapture:()=>{console.log("eventtttt15151")},onPaneScroll:()=>{console.log(15151)},panOnScroll:!0,selectionOnDrag:!0,panOnDrag:[1,2],selectionMode:ct.Partial,children:[n.jsx(dt,{}),n.jsx(ut,{zoomable:!0,pannable:!0,nodeStrokeWidth:3,nodeClassName:l=>l.type}),n.jsx(ht,{variant:gt.Dots,gap:[12,12],bgColor:"#FFF"})]})]})})};function Fn(){const o=q();return n.jsx("div",{children:n.jsx(I,{onClick:()=>{const e=o.toObject();console.log("object",e)},children:"按钮"})})}class Bn extends fe{constructor(e){super(e),this.type="custom-Node",console.log("123options",e)}drawBadgeShapes(){}update(e){}render(e,t){console.log("123atts",e),super.render(e)}}function Wn(o,e=!0,t){const s=document.createElement("div");return s.setAttribute("class",`g6-${o}`),Object.assign(s.style,{position:"absolute",display:"block"}),e&&Object.assign(s.style,{inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),s}const U=class U extends pt{constructor(t,s){super(t,Object.assign({},U.defaultOptions,s));p(this,"$element",Wn("background"));this.context.canvas.getContainer().append(this.$element),this.update(s)}update(t){super.update(t),Object.assign(this.$element.style,t)}destroy(){super.destroy(),this.$element.remove()}};p(U,"defaultOptions",{backgroundSize:"cover",transition:"background 0.5s"});let Q=U;class Un extends fe{constructor(e){super({...e,size:[100,100]}),this.type="ExtendRect"}getTextStyle(e,t){return console.log("paragraphStyle",e),{...this.drawKeyShape(e,t),text:"么么哒",x:50,y:10,cursor:"help"}}drawTextShape(e,t){return this.upsert("text",mt,this.getTextStyle(e,t),t)}render(e,t){const s={...e};super.render(s,t),this.drawTextShape(s,t)}update(e){}destroy(){}}const Ie=document.createElement("script");Ie.src="//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js";document.head.appendChild(Ie);K(ee.NODE,"custom-Node",Bn);K(ee.PLUGIN,"back",Q);K(ee.NODE,"ExtendRect",Un);class qn{constructor(e){p(this,"graph");const t=new Date("2023-08-01").getTime(),s=3600*24*1e3;[10,2,3,4,15,10,5,0,3,1].map((a,r)=>({time:new Date(t+r*s),value:a,label:new Date(t+r*s).toLocaleString()})),this.graph=new ft({container:e,width:1200,height:800,layout:{type:"grid"},behaviors:["zoom-canvas","drag-canvas","drag-element"],autoFit:"center",plugins:[{type:"grid-line",follow:!0},{type:"back",width:"800px",height:"600px",backgroundImage:"url(https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0Qq0ToQm1rEAAAAAAAAAAAAADmJ7AQ/original)",backgroundRepeat:"no-repeat",backgroundSize:"cover",opacity:0},{type:"fullscreen"}]}),this.bind()}bind(){this.graph.on("node:click",e=>{console.error("==",e)})}ready(){console.log("1008611----------"),this.graph.setData($n),this.graph.render();let e=1;const t=new Map([[()=>e===1,()=>{console.log("等于 1")}],[()=>e===2,()=>{console.log("等于 2")}]]),s=Array.from(t.entries());for(const a of s)console.log(a)}fullscreen(){this.graph.getPluginInstance("fullscreen").request()}destory(){this.graph.destroy()}}const $n={nodes:[{id:"node1",x:0,y:0,type:"ExtendRect",fontSize:12,style:{size:[100,100]}},{id:"node2",x:0,y:0,r:50,style:{r:50}}],edges:[{source:"node1",target:"node2"}]};function Vn(){const o=h.useRef(null);return h.useEffect(()=>{let e;return console.log("为什么我也执行了 ne"),e=new qn(o.current),e.ready(),()=>{e.destory()}},[]),n.jsx("div",{id:"g",style:{width:1920,height:1080},ref:o,children:n.jsx("button",{onClick:()=>{},style:{position:"absolute"},children:"全屏"})})}const Gn=({itemType:o,rowHeight:e,columnWidth:t,rowCount:s,columnCount:a,instanceProps:r,offset:i})=>Me({itemType:o,rowHeight:e,columnWidth:t,rowCount:s,columnCount:a,instanceProps:r,offset:i}),Zn=({startIndex:o,rowCount:e,rowHeight:t,columnWidth:s,scrollTop:a,containerHeight:r,instanceProps:i})=>{const l=_({itemType:"row",rowHeight:t,columnWidth:s,index:o,instanceProps:i}),d=a+r;let c=l.offset+l.size,u=o;for(;u<e-1&&c<d;)u++,c+=_({itemType:"row",rowHeight:t,columnWidth:s,index:u,instanceProps:i}).size;return u},Hn=({itemType:o,rowHeight:e,columnWidth:t,rowCount:s,columnCount:a,instanceProps:r,offset:i})=>Me({itemType:o,rowHeight:e,columnWidth:t,rowCount:s,columnCount:a,instanceProps:r,offset:i}),Yn=({startIndex:o,rowHeight:e,columnWidth:t,instanceProps:s,containerWidth:a,scrollLeft:r,columnCount:i})=>{const l=_({itemType:"column",index:o,rowHeight:e,columnWidth:t,instanceProps:s}),d=r+a;let c=l.offset+l.size,u=o;for(;u<i-1&&c<d;)u++,c+=_({itemType:"column",rowHeight:e,columnWidth:t,index:u,instanceProps:s}).size;return u},Qn=o=>{const{top:e,bottom:t,left:s,right:a}=o,r=new Set;for(let i=e;i<=t;i++)for(let l=s;l<=a;l++)r.add(JSON.stringify([i,l]));return r},Xn=({rowIndex:o,columnIndex:e})=>`${o}:${e}`,Jn=({index:o,rowHeight:e,columnWidth:t,instanceProps:s})=>_({itemType:"row",index:o,rowHeight:e,columnWidth:t,instanceProps:s}).offset,Kn=({index:o,rowHeight:e,columnWidth:t,instanceProps:s})=>_({itemType:"column",index:o,rowHeight:e,columnWidth:t,instanceProps:s}).offset,eo=(o,e)=>e.rowMetadataMap[o].size,to=(o,e)=>e.columnMetadataMap[o].size,_=({itemType:o,index:e,rowHeight:t,columnWidth:s,instanceProps:a})=>{let r,i,l;if(o==="column"?(r=a.columnMetadataMap,i=s,l=a.lastMeasuredColumnIndex):(r=a.rowMetadataMap,i=t,l=a.lastMeasuredRowIndex),e>l){let d=0;if(l>=0){const c=r[l];d=c.offset+c.size}for(let c=l+1;c<=e;c++){let u=i(c);r[c]={offset:d,size:u},d+=u}o==="column"?a.lastMeasuredColumnIndex=e:a.lastMeasuredRowIndex=e}return r[e]},Me=({itemType:o,rowHeight:e,columnWidth:t,rowCount:s,columnCount:a,instanceProps:r,offset:i})=>{let l,d;return o==="column"?(l=r.columnMetadataMap,d=r.lastMeasuredColumnIndex):(l=r.rowMetadataMap,d=r.lastMeasuredRowIndex),(d>0?l[d].offset:0)>=i?Te({itemType:o,rowHeight:e,columnWidth:t,instanceProps:r,high:d,low:0,offset:i}):no({itemType:o,rowHeight:e,rowCount:s,columnCount:a,columnWidth:t,instanceProps:r,index:Math.max(0,d),offset:i})},Te=({itemType:o,rowHeight:e,columnWidth:t,instanceProps:s,high:a,low:r,offset:i})=>{for(;r<=a;){const l=r+Math.floor((a-r)/2),d=_({itemType:o,rowHeight:e,columnWidth:t,index:l,instanceProps:s}).offset;if(d===i)return l;d<i?r=l+1:d>i&&(a=l-1)}return r>0?r-1:0},no=({itemType:o,rowHeight:e,columnWidth:t,rowCount:s,columnCount:a,instanceProps:r,index:i,offset:l})=>{const d=o==="column"?a:s;let c=1;for(;i<d&&_({itemType:o,rowHeight:e,columnWidth:t,index:i,instanceProps:r}).offset<l;)i+=c,c*=2;return Te({itemType:o,rowHeight:e,columnWidth:t,instanceProps:r,high:Math.min(i,d-1),low:Math.floor(i/2),offset:l})},oo=(o,e)=>{const t=document.createElement("a");t.download=e,t.href=o||"",document.body.appendChild(t),t.click(),document.body.removeChild(t)},so=h.forwardRef((o,e)=>{const{width:t,height:s,rowHeight:a,columnWidth:r,rowCount:i,columnCount:l,scrollbarSize:d,children:c}=o,u=h.useRef({columnMetadataMap:{},rowMetadataMap:{},lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1}),g=h.useRef(null),v=h.useRef(null),m=h.useRef(null),y=h.useRef(),[L,Ae]=h.useState(0),[$,Oe]=h.useState(0),Pe=h.useCallback(f=>{Ae(f.target.scrollTop)},[]),Ne=h.useCallback(f=>{Oe(f.target.scrollLeft)},[]),De=i*a(),Le=l*r(),[ne,qo]=h.useState({top:0,bottom:0,left:0,right:0});h.useMemo(()=>Qn(ne),[ne]);const Fe=h.useCallback(f=>{var ae,ie;if(v.current)return;const{deltaX:b,deltaY:V,deltaMode:G}=f.nativeEvent;let Z=b,z=V;if(G===1&&(z=z*17),!m.current||!g.current)return;const Ue=(ae=m.current)==null?void 0:ae.scrollLeft,qe=(ie=g.current)==null?void 0:ie.scrollTop;v.current=window.requestAnimationFrame(()=>{v.current=null,m.current&&(m.current.scrollLeft=Ue+Z),g.current&&(g.current.scrollTop=qe+z)})},[]),oe=Gn({itemType:"row",rowHeight:a,columnWidth:r,rowCount:i,columnCount:l,instanceProps:u.current,offset:L}),Be=Zn({startIndex:oe,rowCount:i,rowHeight:a,columnWidth:r,scrollTop:L,containerHeight:s,instanceProps:u.current}),se=Hn({itemType:"column",rowHeight:a,columnWidth:r,rowCount:i,columnCount:l,instanceProps:u.current,offset:$}),We=Yn({startIndex:se,columnCount:l,rowHeight:a,columnWidth:r,scrollLeft:$,containerWidth:t,instanceProps:u.current});h.useImperativeHandle(e,()=>({img(){var b;const f=(b=y==null?void 0:y.current)==null?void 0:b.toDataURL({pixelRatio:3});oo(f,"image.png")}}));const re=[];if(l>0&&i)for(let f=oe;f<=Be;f++)for(let b=se;b<=We;b++){const V=to(b,u.current),G=Kn({index:b,rowHeight:a,columnWidth:r,instanceProps:u.current}),Z=eo(f,u.current),z=Jn({index:f,rowHeight:a,columnWidth:r,instanceProps:u.current});re.push(h.createElement(c,{x:G,y:z,width:V,height:Z,rowIndex:f,columnIndex:b,key:Xn({rowIndex:f,columnIndex:b}),store:o.store}))}return n.jsxs("div",{style:{position:"relative",width:t+20},children:[n.jsx("div",{style:{height:s,overflow:"scroll",position:"absolute",right:0,top:0,width:d,background:"#666"},onScroll:Pe,ref:g,children:n.jsx("div",{style:{position:"absolute",height:De,width:1}})}),n.jsx("div",{style:{overflow:"scroll",position:"absolute",bottom:-d,left:0,width:t,height:d,background:"#666"},onScroll:Ne,ref:m,children:n.jsx("div",{style:{position:"absolute",width:Le,height:1}})}),n.jsx("div",{onWheel:Fe,tabIndex:-1,children:n.jsx(xt,{width:t,height:s,ref:y,children:n.jsx(yt,{children:n.jsxs(N,{offsetY:L,offsetX:$,children:[n.jsx(k,{x:20,y:200,width:150,height:80,stroke:"green",fill:"#ccc",strokeWidth:.5,cornerRadius:10}),n.jsx(k,{x:200,y:200,width:220,height:200,stroke:"green",fill:"#ccc",strokeWidth:.5,draggable:!0}),n.jsx(C,{draggable:!0,x:200,y:200,width:220,height:200,text:`我真的可以吗还是

真的觉得没有办法啊`,fontSize:16,fill:"red",padding:10,align:"center",verticalAlign:"middle",letterSpacing:2}),n.jsxs(bt,{x:250,y:50,opacity:.85,pointerDirection:"right",pointerWidth:10,pointerHeight:10,lineJoin:"round",shadowColor:"black",shadowBlur:10,shadowOffsetX:10,shadowOffsetY:10,shadowOpacity:.5,cornerRadius:2,draggable:!0,onClick:f=>{console.log("event",f)},children:[n.jsx(jt,{fill:"#000",pointerDirection:"down",pointerWidth:10,pointerHeight:10,lineJoin:"round",shadowColor:"black",shadowBlur:10,shadowOffsetX:10,shadowOffsetY:10,shadowOpacity:.5,cornerRadius:2}),n.jsx(C,{text:"Tooltip pointing down",fontFamily:"Calibri",fontSize:22,padding:5,fill:"#FFF"})]}),re]})})})})]})});class ro{constructor(){p(this,"isTokenExpired",!1);p(this,"peddingRequests",new Map)}addRequest(e,t){if(this.peddingRequests.has(e)){const s=this.peddingRequests.get(e);this.peddingRequests.set(e,{...s,...t})}else this.peddingRequests.set(e,t)}removeRequest(e){this.peddingRequests.delete(e)}cancelRequest(){this.peddingRequests.forEach(e=>{e.canceler&&e.canceler()})}resendRequest(){const e="Bearer "+de.get("token");this.peddingRequests.forEach(t=>{var l;Object.assign(t.headers,{Authorization:e});const{requestkey:s,resolveCallback:a,canceler:r,...i}=t;(l=t.resolveCallback)==null||l.call(t,i)})}getTokenByRefreshToken(){return new Promise(e=>{M.get("/api/refreshToken",{headers:{Authorization:"no-auth"}}).then(()=>{e(!0)}).catch(t=>{})})}refreshToken(){de.get("refreshToken")&&this.getTokenByRefreshToken().then(t=>{t&&(this.isTokenExpired=!1,this.resendRequest())})}}var ao={BASE_URL:"/anyshare",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PUBLIC_PATH:"/anyshare",VITE_PUBLIC_PREFIX:"anyshare",VITE_USER_NODE_ENV:"production"};class O{constructor(e){p(this,"code");p(this,"message");p(this,"cause");p(this,"detail");p(this,"response");Object.assign(this,e)}openMessage(e){if(typeof e=="string"){const t=e??this.message;wt.error(t)}else e==null||e(this)}showModal(e){}}class x{constructor(){p(this,"data");p(this,"error")}static async Callback(e){return e.then(({data:t})=>({data:t})).catch(t=>({error:t}))}static async Callback_body(e){return e.then(t=>({response:t})).catch(t=>({error:t}))}static async callbackArray(e){return e.then(t=>[null,t]).catch(t=>[t,null])}static async callbackArray_body(e){return e.then(t=>[null,t]).catch(t=>[t,null])}}class Ee{constructor(e="/",t={},s={isRefreshToken:!1}){p(this,"requestQueue",new ro);p(this,"instace");this.key=e,this.config=t,this.otherConfig=s;const a=(i,l)=>(i==null?void 0:i.size)>Number.MAX_SAFE_INTEGER?{size:BigInt(i==null?void 0:i.size)}:i,r=M.defaults.transformResponse;this.instace=M.create({...this.config,transformResponse:[...r,a]}),this.initInterceptors()}addInterceptor(e){if(!e)return;this.instace.interceptors.request.clear();const t=this.instace.interceptors.request.use(e.bind(this));return()=>{this.instace.interceptors.request.eject(t)}}initInterceptors(){const{isRefreshToken:e}=this.otherConfig,t=new Map([[()=>e,()=>{this.instace.interceptors.request.use(r=>{let i;const l=Object.assign({},r,{cancelToken:new M.CancelToken(d=>{i=d})});return r.headers.Authorization="456",this.requestQueue.addRequest("",Object.assign({},l,i)),r})}],[()=>!0,()=>{this.instace.interceptors.request.use(r=>(r.headers.setAuthorization("123"),r))}]]);Array.from(t.entries()).forEach(([r,i])=>{r()&&(i==null||i())});const a=new Map([[()=>!0,()=>{this.instace.interceptors.response.use(r=>r,r=>{console.error("error111111",r,r.response);const i=r.response;if(!i)return navigator.onLine?Promise.reject(new O({cause:"10001",code:200,detail:"未知错误",message:"未知错误"})):new O(i).openMessage("网络异常！");switch(r.status){case 401:const l=new O({...i.data,message:"未登录或登录已过期，请重新登录！"});return l.openMessage=()=>{},Promise.reject(l)}return Promise.reject()})}],[()=>e,()=>{this.instace.interceptors.response.use(r=>(this.requestQueue.removeRequest(r.config.url??""),r),r=>new Promise((i,l)=>{if(!(r instanceof O)){const c=r.response;l(new O(c.data));return}if(this.requestQueue.peddingRequests.get(String(Math.random()*10))){this.requestQueue.addRequest("",{resolveCallback:c=>i(M(c))});return}l(r),console.error("error22222",r)}))}]]);for(const[r,i]of a)r()&&i()}post(e,t,s){return x.Callback(this.instace.post(e,t,s))}get(e,t){return x.Callback(this.instace.get(e,t))}getResponseArray(e,t){return x.callbackArray(this.instace.get(e,t))}put(e,t,s){return x.Callback(this.instace.put(e,t,s))}delete(e,t){return x.Callback(this.instace.delete(e,t))}patch(e,t,s){return x.Callback(this.instace.patch(e,t,s))}post_Body(e,t,s){return x.Callback_body(this.instace.post(e,t,s))}get_Body(e,t){return x.Callback_body(this.instace.get(e,t))}put_Body(e,t,s){return x.Callback_body(this.instace.put(e,t,s))}upload(e){const{url:t,formData:s,controller:a,onUploadProgress:r}=e;return x.callbackArray(this.instace.post(t,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:r,signal:a==null?void 0:a.signal}))}async uploadStream(e){const{url:t,file:s,controller:a,onUploadProgress:r}=e,i=await s.arrayBuffer();return x.callbackArray(this.instace.post(t,i,{headers:{"Content-Type":"application/octet-stream"},onUploadProgress:r,signal:a==null?void 0:a.signal}))}axiosDownload(e){const{url:t,data:s,controller:a,fileName:r,onDownloadProgress:i}=e;return new Promise((l,d)=>{x.callbackArray_body(this.instace.get(t,{params:s,responseType:"blob",onDownloadProgress:i,signal:a?a.signal:void 0})).then(c=>{const[u,g]=c;if(u){d(u);return}const v=new Blob([g.data],{type:g==null?void 0:g.response.headers["content-type"]}),m=document.createElement("a");m.style.display="none",r?m.download=r:m.download=decodeURIComponent(co(g==null?void 0:g.response.headers["content-disposition"])),m.href=URL.createObjectURL(v),document.body.appendChild(m);const y=m.download;m.click(),URL.revokeObjectURL(m.href),document.body.removeChild(m),l({fileName:y})})})}urlDownload(e){const{fileName:t,serveBaseUrl:s=ao.VITE_API_SERVER_URL,fileUrl:a}=e,r=document.createElement("a");r.style.display="none",r.download=t,r.href=a.startsWith("http")?a:`${s}${a}`,document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}}class D{static add(e){return Array.isArray(e)?e.forEach(t=>{this.instaceMap.set(t.key,t)}):this.instaceMap.set(e.key,e),this}static register(e){return this.instace=this.instaceMap.get(e||"/")||this.instaceMap.get("/"),this.instace}}p(D,"instace"),p(D,"instaceMap",new Map);const io=new Ee("/",{baseURL:"/authServer",timeout:3e3}),lo=new Ee("/autosheets",{baseURL:"/autosheets"});D.add([io,lo]).register("/");function co(o){let e=/filename\*=\S+?''(.+?)(;|$)/;return e.test(o)||(e=/filename="{0,1}([\S\s]+?)"{0,1}(;|$)/,e.test(o))?RegExp.$1:"文件名获取异常"}class uo extends D{static socketFileDownload(){const e=new AbortController;return setTimeout(()=>void e.abort(),300),this.register().axiosDownload({url:"",data:{},fileName:"",otherConfig:{responseType:"blob"},controller:e,onDownloadProgress(t){const s=t.progress;console.log("progress",s)}})}static serach(e){return this.register("/autosheets").getResponseArray("/public/v1/goods/search",e)}}uo.serach({}).then(([o,e])=>{if(o){o==null||o.openMessage();return}console.log(e.name)});class ho extends D{static getDataSource(){return this.register().getResponseArray(window.location.origin+"/anyshare/data.json")}}function ze(o,e,t){const s=S.useRef("loading"),a=S.useRef(),[r,i]=S.useState(0),l=S.useRef(),d=S.useRef(),c=S.useRef();return(l.current!==o||d.current!==e||c.current!==t)&&(s.current="loading",a.current=void 0,l.current=o,d.current=e,c.current=t),S.useLayoutEffect(function(){if(!o)return;var u=document.createElement("img");u.crossOrigin="Anonymous";const g=document.createElement("canvas"),v=g.getContext("2d");function m(){s.current="loaded",g.width=u.width,g.height=u.height,v.drawImage(u,0,0),a.current=g,i(Math.random())}function y(){s.current="failed",a.current=void 0,i(Math.random())}return u.addEventListener("load",m),u.addEventListener("error",y),u.src=o,function(){u.removeEventListener("load",m),u.removeEventListener("error",y)}},[o,e,t]),[a.current,s.current]}class go{constructor(){p(this,"dataSource");St(this),ho.getDataSource().then(([e,t])=>{e||(console.log("source============>>>>>",t.data),this.dataSource=[...t.data])})}}const po=vt(()=>{const o=h.useRef(),e=Y(()=>new go);return n.jsxs("div",{children:[n.jsx(W,{type:"button",onClick:()=>{var t;(t=o.current)==null||t.img()},children:"导出"}),n.jsx(so,{scrollbarSize:20,rowCount:7,columnCount:15,width:1200,height:800,store:e.dataSource,ref:o,rowHeight:t=>100,columnWidth:t=>120,children:mo})]})}),ge=[{email:"123@qq.com",username:"test-1"},{email:"789@qq.com",username:"test-2"},{email:"126@qq.com",username:"test-3"},{email:"456@qq.com",username:"test-4"},{email:"1678@qq.com",username:"test-5"},{email:"123@qq.com",username:"test-6"}],mo=o=>{var d;const{rowIndex:e,columnIndex:t,x:s,y:a,width:r,height:i,store:l}=o;if(!(l!=null&&l.length))return n.jsx(n.Fragment,{});if(e===0&&t===0)return n.jsx(k,{x:s,y:a,height:i,width:r,hitStrokeWidth:1,strokeWidth:.2,fill:"#FFF",stroke:"grey"});if(e===0)return n.jsxs(N,{onClick:c=>{console.log("event",c)},children:[n.jsx(k,{x:s,y:a,height:i,width:r,hitStrokeWidth:1,strokeWidth:.2,fill:"#FFF",stroke:"grey"}),n.jsx(C,{x:s,y:a-20,height:i,width:r,fontSize:16,text:l[t].date,verticalAlign:"middle",align:"center"}),n.jsx(C,{x:s-25,y:a+10,fontSize:16,height:i,width:r,text:kt(l[t].date).day().toString(),verticalAlign:"middle",align:"center"})]});if(t===0)return n.jsx(yo,{...o});if(e>=1&&t>=1){const c=(d=l[t].shiftList[e])==null?void 0:d.name,u=c==="早班"?"#266efe":c==="中班"?"#20cad4":"#fa9f25",g=c==="早班"?"#e8f4fd":c==="中班"?"#e8fffc":"#fffae8";return n.jsxs(N,{children:[n.jsx(k,{x:s,y:a,height:i,width:r,hitStrokeWidth:1,strokeWidth:.2,fill:"#FFF",stroke:"grey"}),c&&n.jsx(fo,{...o,name:c,color:u,bgcolor:g})]})}return n.jsx(N,{children:n.jsx(k,{x:s,y:a,height:i,width:r,hitStrokeWidth:1,strokeWidth:.2,fill:"#FFF",stroke:"grey"})})};function fo(o){var g;const{rowIndex:e,columnIndex:t,x:s,y:a,width:r,height:i,store:l,name:d,bgcolor:c,color:u}=o;return e===2&&t<=3?n.jsx(xo,{...o}):n.jsxs(n.Fragment,{children:[n.jsx(k,{x:s+10,y:a+10,height:i-20,width:r-20,hitStrokeWidth:1,strokeWidth:devicePixelRatio*1,fill:c,stroke:u}),n.jsx(C,{x:s+20,y:a+20,height:i,width:r,text:(g=l[t].shiftList[e])==null?void 0:g.name,fill:u,fontSize:16,verticalAlign:"top",align:"left"})]})}function xo({rowIndex:o,columnIndex:e,x:t,y:s,width:a,height:r,store:i,name:l,bgcolor:d,color:c}){var g;const u=ze("https://img.ixintu.com/download/jpg/20201117/47b0927fa6ca7b105c3cccda2038095a_512_386.jpg!con");return n.jsxs(n.Fragment,{children:[n.jsx(k,{x:t+10,y:s+10,height:r-20,width:a-20,hitStrokeWidth:1,strokeWidth:devicePixelRatio*1,fill:d,stroke:c}),n.jsx(C,{x:t+20,y:s+20,height:r,width:a,text:(g=i[e].shiftList[o])==null?void 0:g.name,fill:c,fontSize:16,verticalAlign:"top",align:"left"}),n.jsx(xe,{image:u[0],width:50,x:t+50,y:s+35,height:50})]})}function yo({rowIndex:o,columnIndex:e,x:t,y:s,width:a,height:r,store:i}){const l=ze("https://image.uisdc.com/wp-content/uploads/2023/08/Character-avatar-20230802-1.png");return n.jsxs(N,{children:[n.jsx(k,{x:t,y:s,height:r,width:a,hitStrokeWidth:1,strokeWidth:.2,fill:"#FFF",stroke:"grey"}),n.jsx(C,{x:t+40,y:s+35,height:r,width:a,text:ge[o-1].username,fontSize:16,verticalAlign:"top",align:"left"}),n.jsx(C,{x:t+40,y:s+60,height:r,width:a,text:ge[o-1].email,fontSize:13,verticalAlign:"top",align:"left"}),n.jsx(xe,{image:l[0],width:30,x:t+5,y:s+35,height:30})]})}const bo=({value:o,onChange:e,readyPost:t,phoneNumber:s,...a})=>{const[r,i]=h.useState(0),l=(d=20)=>{d<0||(i(d),setTimeout(()=>{l(d-1)},1e3))};return n.jsxs("div",{style:{display:"inline-flex",width:"100%",alignItems:"center"},children:[n.jsx(Ct,{...a,style:{marginRight:5,...a.style},value:o,onChange:e}),n.jsxs("div",{style:{flexShrink:0,color:"#999",width:100,height:35,display:"flex",alignItems:"center",justifyContent:"center"},children:[r===0&&n.jsx(_t,{disabled:!t,block:!0,onClick:()=>{s&&console.log(`post code by phone number ${s}`),l()},children:"发送验证码"}),r>0&&n.jsxs("span",{children:["剩余",r,"秒"]})]})]})},jo=Rt(It,Mt({value:"value"}),Tt(o=>`啦啦啦${o.value}`)),wo=te({validateFirst:!0,initialValues:{slider:50},pattern:"readPretty",effects(o){zt(()=>{console.log("初始化表单")}),At(()=>{console.log("挂载表单")}),Ot(()=>{console.log("表单卸载")}),Pt(e=>{console.log("表单改变了",e)}),Nt(()=>{console.log("表单改变了",Dt(o))})}}),B=ye({components:{FormItem:be,FormilySlider:jo,Input:Lt}});Et({slider(o,e){return o?o<30?"最小值不能小于30":o>90?"最大值不能大于90":"":""}});const vo=()=>n.jsx("div",{style:{margin:"50px"},children:n.jsxs(Ft,{form:wo,children:[n.jsx(B,{children:n.jsxs(B.Void,{"x-component":"FormItem",children:[n.jsx(B.Number,{name:"slider",title:"数字","x-decorator":"FormItem","x-component":"FormilySlider","x-pattern":"","x-component-props":{min:20,max:100},"x-validator":[{slider:!0},{whitespace:!0}],"x-reactions":{dependencies:[],fulfill:{state:{},schema:{"x-pattern":"{{$deps[0]}}"}}}}),n.jsx(B.Object,{name:"nams"})]})}),n.jsx(Bt,{children:n.jsx(Wt,{onSubmit:console.log,children:"提交"})})]})});te({validateFirst:!0});te({validateFirst:!0});ye({components:{FormItem:be,Input:Ut,Password:qt,VerifyCode:bo},scope:{items(){return 3}}});const ko=()=>n.jsx(vo,{}),So=h.lazy(()=>R(()=>import("./index-CEjOsCSu.js"),__vite__mapDeps([0,1,2,3]))),Co=h.lazy(()=>R(()=>import("./index-DZld_uZ0.js"),__vite__mapDeps([4,1,2,5])));function _o(){return $t([{path:"/",element:n.jsx(Vt,{to:"/form",replace:!0})},{path:"/home",element:n.jsx(h.Suspense,{fallback:n.jsx(n.Fragment,{children:"12335454"}),children:n.jsx(So,{})})},{path:"/about",element:n.jsx(Co,{})},{path:"/flow",element:n.jsx(Ln,{})},{path:"/canvas",element:n.jsx(yn,{})},{path:"/g6",element:n.jsx(Vn,{})},{path:"/konva",element:n.jsx(po,{})},{path:"/form",element:n.jsx(ko,{})}])}function Ro(){const o=h.useRef(null);return location.href.includes("?vc")&&(o.current=new Gt({theme:"dark",maxLogNumber:1e3})),[o.current]}const Io=S.createContext(null);function Mo(o){return new Worker("/anyshare/assets/worker-1YP56a3j.js",{name:o==null?void 0:o.name})}const To=({children:o})=>{const[e]=h.useState(()=>({worker:null,open(){return e.worker=Zt(new Mo),{unsubscribe:()=>this.close()}},close(){var t,s;e.worker&&((s=(t=e.worker)[Ht])==null||s.call(t),e.worker=null)}}));return n.jsx(Io.Provider,{value:e,children:o})},Eo=({items:o,onClick:e,...t})=>n.jsx("div",{...t,onClick:s=>{var r;let a=s.target;for(;;){if(a.hasAttribute("data-menukey")){const i=a.getAttribute("data-menukey")||"",l=o.find(d=>d.key===i);(r=l==null?void 0:l.onClick)==null||r.call(l,i),e==null||e(i);break}if(a===a.parentElement)break;a=a.parentElement}},className:"anyshare-popup__content anyshare-dropdown",children:n.jsx("div",{className:"anyshare-dropdown__menu anyshare-dropdown__menu--right",children:o.map(s=>n.jsx("div",{"data-menukey":s.key,children:n.jsx("li",{className:"anyshare-dropdown__item anyshare-dropdown__item--theme-default",children:n.jsx("span",{className:"anyshare-dropdown__item-text",children:s.label})})},s.key))})}),zo=h.createContext(null),Ao=o=>{const e=Y(()=>({visible:!1,items:[],selectedKeys:[],handleItems(r){this.items=r}})),t=Y(()=>({items:[]}));h.useEffect(()=>Yt(async()=>{t.items=(await Promise.all(e.items)).flat()}),[]);const s=h.useCallback(r=>{r&&e.items.length?e.visible=r:(e.visible=!1,e.items=[])},[]),a=h.useCallback(r=>{const{closeAfterClick:i=!0}=r;i&&(e.visible=!1,e.items=[])},[]);return Qt(()=>n.jsx(zo.Provider,{value:e,children:n.jsx(Xt,{trigger:["contextMenu"],visible:e.visible,onVisibleChange:s,overlayStyle:{border:"none",boxShadow:"none"},placement:"bottomRight",overlay:n.jsx(Eo,{items:t.items,style:{minWidth:160},onClick:a}),animation:"slide-up",alignPoint:!0,children:n.jsx("div",{role:"button",style:{border:"1px solid #000"},children:o.children})})}))};function Oo(){const[o]=Ro();h.useEffect(()=>{console.log("VConsole ?",o),o&&o.show()},[])}const Po=({locales:o})=>(Oo(),n.jsx(Jt,{basename:"/anyshare",children:n.jsx(h.Suspense,{fallback:n.jsx(No,{}),children:n.jsx(Kt,{globalConfig:{classPrefix:"anyshare",...o},children:n.jsx(To,{children:n.jsx(Ao,{children:n.jsx(_o,{})})})})})}));function No(){return h.useEffect(()=>(H.configure({showSpinner:!1}),H.start(),()=>void H.done()),[]),null}const Do=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function Lo(o){o&&o instanceof Function&&(en(o),tn(o),nn(o),on(o),sn(o))}const Fo=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"}));var Bo={BASE_URL:"/anyshare",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_PUBLIC_PATH:"/anyshare",VITE_PUBLIC_PREFIX:"anyshare",VITE_USER_NODE_ENV:"production"};class Wo{constructor(){p(this,"root",document.getElementById("root"));p(this,"reactDomRootElement");p(this,"lang","zh-CN");this.lang=this.getLang(),console.log(this.lang);const e=Object.assign({"../public/locales/config.json":dn,"../public/locales/en-US.json":hn,"../public/locales/zh-CN.json":pn,"../public/locales/zh.json":fn});for(const s in e)s.includes(this.lang)&&console.log("0000",s,e[s].default);new PerformanceObserver(s=>{s.getEntries().forEach(r=>{r.entryType==="paint"&&(r.name==="first-contentful-paint"?console.log("首次内容绘制时间（First Contentful Paint）:",r.startTime/1e3):r.name==="first-paint"&&console.log("白屏时间（First Paint）:",r.startTime/1e3))})}).observe({entryTypes:["paint"]})}async render(){try{this.isDebug(),this.longtask(),this.mount(),await this.webVitals()}catch(e){throw e}}delayload(){requestIdleCallback(e=>{e.timeRemaining()>0&&R(()=>import("./html2canvas-CBrSDip1.js"),[]).finally(()=>{console.log("空闲加载完成！")})})}server(){}anmation(){w.update(()=>{console.log("2update")}),w.read(()=>{console.log("1read")}),w.read(()=>{console.log("100read")}),w.render(()=>{console.log("4render")}),w.preRender(()=>{console.log("3render")});const e=ln();console.log("frameData",e),w.postRender(()=>{console.log("5---")}),ue.update();const t=this.framesync(s=>{console.log("11111111111111delta------",s)});t.start(),setTimeout(()=>{t.stop()},0)}frame(){return new Promise(t=>{let s=0;w.update(()=>{s===2&&ue.update()},!0),w.update(()=>{s++,s>6&&t(!0)},!0)})}framesync(e){const t=({delta:s})=>e(s);return{start:()=>w.update(t,!0),stop:()=>rn.update(t)}}async mount(){this.reactDomRootElement=an.createRoot(this.root);const e=await this.loadLocales(),t=Object.assign({"./App.tsx":Do})["./App.tsx"];console.log("App",t),this.reactDomRootElement.render(n.jsx(t.default,{locales:e}))}unMount(){this.reactDomRootElement.unmount()}async loadLocales(){const e=this.lang;return M.get("/anyshare/locales/zh.json").then(async()=>{let t={};switch(e){case"zh-CN":t=(await R(async()=>{const{default:s}=await import("./modules-CK1cesKX.js").then(a=>a.b0);return{default:s}},__vite__mapDeps([1,2]))).default;break;case"en-US":t=(await R(async()=>{const{default:s}=await import("./modules-CK1cesKX.js").then(a=>a.b1);return{default:s}},__vite__mapDeps([1,2]))).default;break;default:t=(await R(async()=>{const{default:s}=await import("./modules-CK1cesKX.js").then(a=>a.b0);return{default:s}},__vite__mapDeps([1,2]))).default;break}return t})}getLang(){const e=this.getCookie("lang")||navigator.language.toLowerCase()||"zh-cn",{length:t,0:s,[t-1]:a}=e.split("-");if(t!==2)switch(e){case"en":return"en-US";default:return"zh-CN"}else return`${s}-${a.toUpperCase()}`}getCookie(e){const t=new RegExp(`(^| )${e}=([^;]*)(;|$)`),s=document.cookie.match(t);return s?unescape(s[2]):""}formatParamsToken(){const e=new URL(location.href),s=new URLSearchParams(e.search).get("token");if(!s)return;document.cookie=`token=${s}; path=/;`,e.searchParams.delete("token");const a=e.toString();window.history.pushState({path:a},"",a)}async webVitals(e){if(!e)return;const t=Object.assign({"./reportWebVitals.ts":Fo})["./reportWebVitals.ts"],s=a=>{const r=JSON.stringify(a);if(navigator.sendBeacon){navigator.sendBeacon(e,r);return}fetch(e,{body:r,method:"POST",keepalive:!0})};t.default(s)}isDebug(){if(location.search.includes("debug"))["log","error","warn","debug","info"].forEach(e=>{const t=window.console[e];window.console[e]=function(...s){const a=new Date().toISOString(),r=e.toLocaleUpperCase(),l=`[${a}] [${r} ] [LifecycleScheduler]}`;t(l,...s)}}),console.info(`%c Current code version: ${Bo.VITE_VERSION}`,"color:#40E0D0;font-size:19px");else{const e=window.console;for(const t in e)Reflect.has(e,t)&&(e[t]=()=>{})}}longtask(){new PerformanceObserver(t=>{const s=t.getEntries();for(const a of s)console.log("检测耗时任务===",a.duration)}).observe({entryTypes:["longtask"]})}initConfig(){}renderConole(e,t){return t===void 0&&(t=12),"display:inline-block;background-color:"+e+";color:#fff;padding:2px 4px;font-size:"+t+"px;"}rewriteLog(){const e="/anyshare";console.log("basename",e);const t=e.slice(0,1).toUpperCase()+e.slice(1);console.log("%c","font-size:40px;background:#fff;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCI+PGRlZnM+PHBhdGggZD0iTTE0LjQuOTgzbDExLjQzIDEwLjA3LS4yNDUuMDA1aC03LjAyOUwxNi4yNDEgMjMuOTZoLTUuOTUzTDEyLjYgMTEuMDU4SDcuOTMyTDMuNzI2IDYuNTY5bDkuNjgtLjAxNi45OTQtNS41N3oiIGlkPSJhIi8+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMykiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZD0iTTIyLjM1NyAwSDQuNjExYS41MDMuNTAzIDAgMCAwLS40OTcuNDExTC4wMDggMjMuMzc3YS41LjUgMCAwIDAgLjQ5Ny41ODRoOS43ODNsLjc3NS0uMjM3aDQuNTQzbC42MzUuMjM3aDcuNTM2YS41MDMuNTAzIDAgMCAwIC40OTctLjQxMWwzLjM3OC0xOC44OUwyMi4zNTcgMHoiIGZpbGw9IiMyQTY1RjUiLz48cGF0aCBkPSJNMjIuMzU3IDBsNS4yOTUgNC42NmgtNS41MjZhLjUuNSAwIDAgMS0uNDk3LS41ODRMMjIuMzU3IDB6IiBmaWxsPSIjMDBEQ0ZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48dXNlIGZpbGw9IiNGRkYiIHhsaW5rOmhyZWY9IiNhIi8+PC9nPjwvc3ZnPg==);background-size:contain;background-repeat:no-repeat;"),console.log(`%c${t} | 表格`,this.renderConole("#2a65f5",14)),console.log("%c数据版本%c11111",this.renderConole("#e07800"),this.renderConole("rgba(69, 77, 90, 0.6)")),console.log("%c代码版本%c22222",this.renderConole("#e07800"),this.renderConole("rgba(69, 77, 90, 0.6)")),console.log("%c分支版本%c33333",this.renderConole("#e07800"),this.renderConole("rgba(69, 77, 90, 0.6)")),console.log("%c温馨提示：请勿在此控制台输入来源不明的代码，或随意调试本程序代码，以免造成不好的使用体验！",this.renderConole("#e02424",14)),console.log(`Powered by %c${t}%cv0.1.0%c

GitHub: https://github.com/ayuechuan

获取帮助:  https://docs.aishu.cn/help/`,"background-color: #1A55ED; padding: 7px; color: #fff;","background-color: #FCBF23; color: #000; padding: 7px;","")}}const Uo=new Wo;Uo.render();export{Io as W};
